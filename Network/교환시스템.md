## 💡교환 시스템

네트워크 양단에 연결된 호스트들이 전송하는 패킷은 전송 경로 중간에 위치한 교환 시스템을 거친다.  
교환 시스템은 데이터를 최종 목적지까지 올바른 경로로 중개하는 **교환 기능(Switching)**을 제공한다.

### 1. 교환 시스템의 종류

#### (a) 회선 교환 방식(Circuit Switching)
![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FOmmP7%2Fbtrcqx04RO1%2FMeq49ocJmxJOv5wTpEwUBK%2Fimg.png)   
연결형 서비스를 제공. 음성 전화를 통해 발전. 
> 호스트가 데이터를 전송하기 전에 연결 경로를 미리 설정하는 방식.

고정 대역폭의 전송률을 지원하므로 네트워크 구조가 단순하다. 안정적인 데이터 전송률 지원.  

#### (b) 메시지 교환 방식(Message Switching)
> 데이터를 전송하기 전에 경로를 미리 설정하지 않고, 대신 전송하는 메시지의 헤더마다 목적지 주소를 표시하는 방식.

데이터 전송이 교환기 단위로 이어진다. 따라서 송신 호스트가 전송하는 전체 데이터가 하나의 단위로 교환처리 된다.   
장점: 저장 기능을 제공하여 송신 호스트가 보낸 시점과 수신 호스트가 받은 시점이 반드시 일치할 필요가 없음  

#### (c) 패킷 교환 방식(Packet Switching)
![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FzFSjO%2FbtrcqyTgaWC%2FJP6ZJPFoiFVxuPImckkfN1%2Fimg.png)   
비연결형 서비스를 제공. 네트워크를 통해 발전.   
> 회선 교환과 메시지 교환의 장점을 모두 이용
> 전송할 데이터를 '패킷'이라는 일정 크기로 나누어 전송하며,   
> 각 패킷은 독립적으로 라우팅 과정을 거쳐 목적지에 도착하는 방식.

가변 대역폭의 전송률을 지원하므로 네트워크 구조가 복잡하다.  


```
패킷 교환의 장점  

  1) 전송 대역의 효율적 이용
      여러 호스트에서 전송한 패킷들이 동적인 방식으로 전송 대역을 공유하기 때문에 전송 선로의 이용 효율이 극대화
  2) 호스트의 무제한 수용
      고정 대역이 아니기에 호스트의 수가 늘면(네트워크 혼잡도 증가), 전송 지연이 심화될 뿐 호스트는 무한히 수용 가능
  3) 패킷에 우선순위 부여
      먼저 전송할 패킷과 나중에 전송해도 되는 패킷으로 구분하여 선택적으로 우선순위 부여함. 단, 지연이 발생함
```

### 2. 패킷 교환
데이터를 패킷 교환 방식으로 전송하는 네트워크는 가상회선과 데이터그램을 지원한다.

#### 2-1. 가상 회선(Virtual Circuit)
연결형 서비스를 지원하기 위한 기능으로, 연결을 통해 전송되는 모든 패킷의 경로가 동일하다.  
- 송수신 호스트 사이에 설정된 '가상의 단일 파이프'를 통해 패킷 송수신이 이루어진다.
- 모든 패킷이 하나의 파이프로 표현되는 동일 경로로 전송되므로 패킷이 도착하는 순서가 보낸 순서와 같고,  
파이프는 한 프로세스의 출력을 다른 프로세스의 입력으로 사용할 수 있도록 프로세스를 연결하는 논리적 통신 매체이다.
- 가상 회선으로 패킷을 전송하는 원리는 회선 교환 방식과 비슷하지만, 데이터의 전송 단위가 패킷 단위로 이루어진다는 차이점이 있다.  

![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FWwN3G%2FbtrczPmKFVn%2FXCK7ug1AimltC3qT8kOlfk%2Fimg.png)  


#### 2-2. 데이터그램(Datagram)
비연결형 서비스를 이용해 패킷을 독립적으로 전송하는 기능. 전송할 정보의 양이 적거나 상대적으로 신뢰성이 중요하지 않은 환경에서 사용됨.
- 데이터를 전송하기 전에 연결을 설정하지 않으므로, 패킷이 독립적으로 라우팅된다.
- 전송한 패킷은 출발 순서와 무관하게 도착할 수 있다.  

![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FVAhnU%2FbtrcHFbNbnU%2FTSZOJCV7CkRsgRS18qpxYK%2Fimg.png)  


### 3. 프레임 릴레이와 셀 릴레이
패킷 교환 방식의 데이터 전송 속도 향상을 위해 사용  

#### 3-1. 프레임 릴레이(Frame Relay)
동일한 속도의 전송 매체로 고속 데이터 전송을 지원할 수 있도록 고안된 기술  

![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FB6t0M%2FbtrcB3dXgF8%2FyCvskUWWP9IVqkv5XxP0W1%2Fimg.png)  

```
패킷과 프레임 릴레이의 차이  

  a) 패킷 교환 방식에서는 (중간 라우터를 거치는 과정에서) 개별 링크에서 데이터 프레임과 긍정 응답 프레임을 반복 교환한다.
  b) 프레임 릴레이는 각 라우터의 개별 연결을 의미하는 홉(Hop) 단위의 흐름 제어와 오류 제어 기능을 수행하지 않아
     데이터의 전송과 긍정 응답의 처리가 큰 흐름으로 이뤄져 패킷의 양이 반으로 줄어든다.
  c) 프레임 릴레이는 한 호스트에서 수신한 프레임을 다른 호스트로 중개(Relay) 하는 역할만 한다.  
```
#### 3-2. 셀 릴레이(Cell Relay)
ATM: Asynchronous Transfer Mode 방식으로 회선 교환과 패킷 교환의 장점을 모아서 고안됨.  
프레임 릴레이처럼 오류제어에 대한 오버헤드를 최소화한다.

프레임 릴레이는 가변 길이의 패킷을 지원하지만, 셀 릴레이는 셀(Cell)이라는 고정 크기의 패킷을 사용한다.  


